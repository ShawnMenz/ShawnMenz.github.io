<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="robots" content="noodp" />
        <title>Docker - Shawn&#39;s Homepage</title><meta name="Description" content="Learn and Note"><meta property="og:title" content="Docker" />
<meta property="og:description" content="An Introduction In the past, transitioning a software application from code to production was a painfully slow process. Developers often struggled with the tedious task of managing dependencies while setting up their test and production environments. Docker, a type of container technology, emerged as a solution to alleviate this pain.
From Bare Metal to Docker Bare Metal: The applications ran directly on the physical server (Bare Metal). Teams purchased, racked, stacked, powered on, and configured every new machine." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://shawnmenz.github.io/posts/docker/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-12-09T14:19:21-06:00" />
<meta property="article:modified_time" content="2024-06-10T18:09:39-06:00" /><meta property="og:site_name" content="Shawn&#39;s Homepage" />

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Docker"/>
<meta name="twitter:description" content="An Introduction In the past, transitioning a software application from code to production was a painfully slow process. Developers often struggled with the tedious task of managing dependencies while setting up their test and production environments. Docker, a type of container technology, emerged as a solution to alleviate this pain.
From Bare Metal to Docker Bare Metal: The applications ran directly on the physical server (Bare Metal). Teams purchased, racked, stacked, powered on, and configured every new machine."/>
<meta name="application-name" content="My cool site">
<meta name="apple-mobile-web-app-title" content="My cool site"><meta name="theme-color" content="#ffffff"><meta name="msapplication-TileColor" content="#da532c"><link rel="icon" href="/img/favicon.png"><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"><link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5"><link rel="manifest" href="/site.webmanifest"><link rel="canonical" href="https://shawnmenz.github.io/posts/docker/" /><link rel="prev" href="https://shawnmenz.github.io/posts/uxdesign/" /><link rel="next" href="https://shawnmenz.github.io/posts/llm/" /><link rel="stylesheet" href="/css/style.min.css"><link rel="preload" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.1.1/css/all.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
        <noscript><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.1.1/css/all.min.css"></noscript><link rel="preload" href="https://cdn.jsdelivr.net/npm/animate.css@4.1.1/animate.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
        <noscript><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/animate.css@4.1.1/animate.min.css"></noscript><script type="application/ld+json">
    {
        "@context": "http://schema.org",
        "@type": "BlogPosting",
        "headline": "Docker",
        "inLanguage": "en",
        "mainEntityOfPage": {
            "@type": "WebPage",
            "@id": "https:\/\/shawnmenz.github.io\/posts\/docker\/"
        },"genre": "posts","wordcount":  1267 ,
        "url": "https:\/\/shawnmenz.github.io\/posts\/docker\/","datePublished": "2023-12-09T14:19:21-06:00","dateModified": "2024-06-10T18:09:39-06:00","publisher": {
            "@type": "Organization",
            "name": ""},"author": {
                "@type": "Person",
                "name": "Zexuan Meng"
            },"description": ""
    }
    </script></head>
    <body data-header-desktop="fixed" data-header-mobile="auto"><script type="text/javascript">(window.localStorage && localStorage.getItem('theme') ? localStorage.getItem('theme') === 'dark' : ('auto' === 'auto' ? window.matchMedia('(prefers-color-scheme: dark)').matches : 'auto' === 'dark')) && document.body.setAttribute('theme', 'dark');</script>

        <div id="mask"></div><div class="wrapper"><header class="desktop" id="header-desktop">
    <div class="header-wrapper">
        <div class="header-title">
            <a href="/" title="Shawn&#39;s Homepage">Home</a>
        </div>
        <div class="menu">
            <div class="menu-inner"><a class="menu-item" href="/categories/" title="Categories of my blogs"> Categories </a><a class="menu-item" href="/posts/" title="Archive of my blogs"> BLOG </a><a class="menu-item" href="/publications/" title="Publications"> Publications </a><a class="menu-item" href="/work/" title="About me"> About </a><span class="menu-item delimiter"></span><a href="javascript:void(0);" class="menu-item theme-switch" title="Switch Theme">
                    <i class="fas fa-adjust fa-fw" aria-hidden="true"></i>
                </a><a href="javascript:void(0);" class="menu-item language" title="Select Language">
                    <i class="fa fa-globe" aria-hidden="true"></i>                      
                    <select class="language-select" id="language-select-desktop" onchange="location = this.value;"><option value="/posts/docker/" selected>English</option></select>
                </a></div>
        </div>
    </div>
</header><header class="mobile" id="header-mobile">
    <div class="header-container">
        <div class="header-wrapper">
            <div class="header-title">
                <a href="/" title="Shawn&#39;s Homepage">Home</a>
            </div>
            <div class="menu-toggle" id="menu-toggle-mobile">
                <span></span><span></span><span></span>
            </div>
        </div>
        <div class="menu" id="menu-mobile"><a class="menu-item" href="/categories/" title="Categories of my blogs">Categories</a><a class="menu-item" href="/posts/" title="Archive of my blogs">BLOG</a><a class="menu-item" href="/publications/" title="Publications">Publications</a><a class="menu-item" href="/work/" title="About me">About</a><a href="javascript:void(0);" class="menu-item theme-switch" title="Switch Theme">
                <i class="fas fa-adjust fa-fw" aria-hidden="true"></i>
            </a><a href="javascript:void(0);" class="menu-item" title="Select Language">
                    <i class="fa fa-globe fa-fw" aria-hidden="true"></i>
                    <select class="language-select" onchange="location = this.value;"><option value="/posts/docker/" selected>English</option></select>
                </a></div>
    </div>
</header><main class="main">
                <div class="container"><div class="toc" id="toc-auto">
            <h2 class="toc-title">Contents</h2>
            <div class="toc-content" id="toc-content-auto"></div>
        </div><article class="page single"><h1 class="single-title animate__animated animate__flipInX">Docker</h1><div class="post-meta">
            <div class="post-meta-line"><span class="post-author"><a href="/" title="Author" rel="author" class="author"><i class="fas fa-user-circle fa-fw" aria-hidden="true"></i>Zexuan Meng</a></span>&nbsp;<span class="post-category">included in <a href="/categories/container/"><i class="far fa-folder fa-fw" aria-hidden="true"></i>Container</a></span></div>
            <div class="post-meta-line"><i class="far fa-calendar-alt fa-fw" aria-hidden="true"></i>&nbsp;<time datetime="12-09-2023">12-09-2023</time>&nbsp;<i class="fas fa-pencil-alt fa-fw" aria-hidden="true"></i>&nbsp;1267 words&nbsp;
                <i class="far fa-clock fa-fw" aria-hidden="true"></i>&nbsp;6 minutes&nbsp;</div>
        </div><div class="details toc" id="toc-static"  data-kept="">
                <div class="details-summary toc-title">
                    <span>Contents</span>
                    <span><i class="details-icon fas fa-angle-right" aria-hidden="true"></i></span>
                </div>
                <div class="details-content toc-content" id="toc-content-static"><nav id="TableOfContents">
  <ul>
    <li><a href="#an-introduction">An Introduction</a>
      <ul>
        <li><a href="#from-bare-metal-to-docker">From Bare Metal to Docker</a></li>
        <li><a href="#innovations-of-docker">Innovations of Docker</a></li>
      </ul>
    </li>
    <li><a href="#image-and-runtime">Image and Runtime</a></li>
    <li><a href="#cgroups-namespace-and-rootfs">Cgroups, Namespace, and rootfs</a></li>
    <li><a href="#after-installed-docker">After installed Docker</a></li>
    <li><a href="#docker-commands">Docker commands</a>
      <ul>
        <li><a href="#image">Image</a></li>
        <li><a href="#container">Container</a></li>
        <li><a href="#save-container">Save container</a></li>
        <li><a href="#share-image">Share image</a></li>
      </ul>
    </li>
    <li><a href="#docker-storage">Docker storage</a>
      <ul>
        <li><a href="#volume">Volume</a></li>
      </ul>
    </li>
    <li><a href="#faq">FAQ</a>
      <ul>
        <li><a href="#docker-extensions-of-vs-code-is-not-working">Docker extensions of VS Code is not working.</a></li>
        <li><a href="#gpu-driver-fails-to-load">GPU driver fails to load</a></li>
      </ul>
    </li>
    <li><a href="#reference">Reference</a></li>
  </ul>
</nav></div>
            </div><div class="content" id="content"><h2 id="an-introduction">An Introduction</h2>
<p>In the past, transitioning a software application from code to production was a painfully slow process. Developers often struggled with the tedious task of managing dependencies while setting up their test and production environments. Docker, a type of container technology, emerged as a solution to alleviate this pain.</p>
<h3 id="from-bare-metal-to-docker">From Bare Metal to Docker</h3>
<ul>
<li><strong>Bare Metal</strong>: The applications ran directly on the physical server (Bare Metal). Teams purchased, racked, stacked, powered on, and configured every new machine.</li>
<li><strong>Hardware visualization</strong>: multiple virtual machines to run on a single powerful physical server.</li>
<li><strong>Infrastructure-as-a-service (IaaS)</strong>: IaaS removed the need to set up physical hardware and provided on-demand virtual resources. (like Amazon EC2)</li>
<li><strong>Platform-as-a-service (PaaS)</strong>: PaaS provides a managed development platform to simplify deployment. However, inconsistency across environments is another issue.</li>
<li><strong>Docker</strong>: the concept of containerization.</li>
</ul>
<h3 id="innovations-of-docker">Innovations of Docker</h3>
<p>Docker improved upon PaaS through two key innovations.</p>
<h4 id="lightweight-containerization">Lightweight Containerization</h4>
<p>Container technology is often compared to virtual machines. A VM hypervisor emulates underlying server hardware such as CPU, memory, and disk, to allow multiple virtual machines to <strong>share the same physical resources</strong>. In contrast, Docker containers <strong>share the host operating system kernel</strong>. The Docker engine does not virtualize OS resources.</p>
<p><strong>Containers achieve isolation through Linux namespaces and control groups (cgroups).</strong> Namespaces provide separation of processes, networking, mounts, and other resources. cgroups limit and meter usage of resources like CPU, memory, and disk I/O for containers.</p>
<p>As a result, containers are more lightweight and portable than VMs. Multiple containers can share a host and its resources. They also start much faster since there is no bootup of a full VM OS.</p>
<p>Docker is not lightweight virtualization. It uses Linux primitives to isolate processes, not virtualize hardware like a hypervisor.</p>
<h4 id="application-packaging">Application Packaging</h4>
<p>Docker solved two key PaaS packaging problems with container images:</p>
<ul>
<li>Bundling the app, configs, dependencies, and OS into a single deployable image</li>
<li>Keeping the local development environment consistent with the cloud runtime environment</li>
</ul>
<p>Here is a figure shows the comparison. (Borrowed from <a href="https://blog.bytebytego.com/p/a-crash-course-in-docker" target="_blank" rel="noopener noreffer ">A Crash Course in Docker</a>)</p>
<figure><img src="/attachments/PaaS_Docker.png"/>
</figure>

<h2 id="image-and-runtime">Image and Runtime</h2>
<p>A container image bundles up code, dependencies, configs, and a root filesystem into a single static artifact. It is like a compiled executable, containing everything needed to run the application code in an isolated environment. The Docker engine unpacks this image and starts a container process to run the application in an isolated namespace, like a sandboxed process on Linux.</p>
<p><strong>The image provides a static view of the application to be run. The container runtime gives a dynamic instance of the image executing.</strong> The image is the build artifact, while the runtime provides an isolated environment to launch it.</p>
<p>The bottom layers of the image provide the base OS and dependencies. The top layer adds in the application code and configs. When started by the container runtime, the image creates an isolated process sandbox to run dynamically.</p>
<p>This separation of static image and dynamic runtime solves dependency issues in PaaS. The image acts as a consistent packaging format from dev to test to prod. The OS-level isolation ensures portability across environments.</p>
<h2 id="cgroups-namespace-and-rootfs">Cgroups, Namespace, and rootfs</h2>
<ul>
<li>Namespace - A container is a special type of process</li>
<li>Cgroups - Limit container resource usage</li>
<li>rootfs - The container filesystem</li>
</ul>
<h2 id="after-installed-docker">After installed Docker</h2>
<p>Start Docker</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo systemctl start docker
</span></span></code></pre></div><p>Make Docker always run after reboot the machine</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo systemctl <span class="nb">enable</span> docker
</span></span></code></pre></div><p>Here are some commands that you may need to fix potential problems or check status.</p>
<p>Reload daemon</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo systemctl daemon-reload
</span></span></code></pre></div><p>Restart Docker</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo systemctl restart docker
</span></span></code></pre></div><p>Check Docker status</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo systemctl status docker
</span></span></code></pre></div><h2 id="docker-commands">Docker commands</h2>
<h3 id="image">Image</h3>
<p>Image is a template for creating Docker environment.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="c1"># Search images: search nginx image in docker hub</span>
</span></span><span class="line"><span class="cl">docker search nginx
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># Download images:</span>
</span></span><span class="line"><span class="cl"><span class="c1"># download nginx image from docker hub</span>
</span></span><span class="line"><span class="cl">docker pull nginx
</span></span><span class="line"><span class="cl"><span class="c1"># install specific version</span>
</span></span><span class="line"><span class="cl">docker pull nginx:latest
</span></span><span class="line"><span class="cl">docker pull nginx:1.26.0
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># Check image list</span>
</span></span><span class="line"><span class="cl">docker images
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># Remove (delete) image</span>
</span></span><span class="line"><span class="cl">docker rmi
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># Remove all docker images</span>
</span></span><span class="line"><span class="cl">docker image prune -a
</span></span></code></pre></div><h3 id="container">Container</h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="c1"># run docker</span>
</span></span><span class="line"><span class="cl">docker run
</span></span><span class="line"><span class="cl"><span class="c1"># run a pytorch docker with name mypytorch in the background</span>
</span></span><span class="line"><span class="cl">docker run -d --name mypytorch pytorch/pytorch
</span></span><span class="line"><span class="cl"><span class="c1"># publish a container&#39;s port to the host. 88 is host port, 80 is container port.</span>
</span></span><span class="line"><span class="cl"><span class="c1"># 88 should be unique because it&#39;s port on host</span>
</span></span><span class="line"><span class="cl">docker run -p 88:80
</span></span><span class="line"><span class="cl"><span class="c1"># run a docker with all gpus, keep STDIN open (-i) and allocate a pseudo-TTY (-t)</span>
</span></span><span class="line"><span class="cl">docker run -t -i -d --gpus all --name mypytorch pytorch/pytorch
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># check docker list</span>
</span></span><span class="line"><span class="cl"><span class="c1"># show containers that are running</span>
</span></span><span class="line"><span class="cl">docker ps
</span></span><span class="line"><span class="cl"><span class="c1"># show all containers including those are not running</span>
</span></span><span class="line"><span class="cl">docker ps -a
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># stop docker</span>
</span></span><span class="line"><span class="cl">docker stop
</span></span><span class="line"><span class="cl"><span class="c1"># stop a docker with name mypytorch</span>
</span></span><span class="line"><span class="cl">docker stop mypytorch
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># start docker</span>
</span></span><span class="line"><span class="cl">docker start
</span></span><span class="line"><span class="cl"><span class="c1"># start docker with CONTAINER ID 4056</span>
</span></span><span class="line"><span class="cl">docker start <span class="m">4056</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># reboot docker</span>
</span></span><span class="line"><span class="cl">docker restart
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># check docker status</span>
</span></span><span class="line"><span class="cl">docker stats
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># check docker log</span>
</span></span><span class="line"><span class="cl">docker logs
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># delete docker</span>
</span></span><span class="line"><span class="cl">docker rm
</span></span><span class="line"><span class="cl"><span class="c1"># delete all the dockers</span>
</span></span><span class="line"><span class="cl">docker rm -f <span class="k">$(</span>docker ps -aq<span class="k">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># access docker</span>
</span></span><span class="line"><span class="cl">docker <span class="nb">exec</span>
</span></span><span class="line"><span class="cl"><span class="c1"># access docker with name mypytorch with a terminal</span>
</span></span><span class="line"><span class="cl">docker <span class="nb">exec</span> -it mypytorch /bin/bash
</span></span><span class="line"><span class="cl"><span class="c1"># access docker with CONTAINER ID 4056 with a terminal</span>
</span></span><span class="line"><span class="cl">docker <span class="nb">exec</span> -it <span class="m">4056</span> /bin/bash
</span></span></code></pre></div><p>Note: the <code>docker exec -it</code> command:</p>
<p>The option <code>-it</code> means creating an interactive session with a pseudo-TTY in the Docker container (set up a terminal within the docker). It combines 2 flags, <code>-i</code> and <code>-t</code>.</p>
<ul>
<li><strong>&rsquo;-i&rsquo; or &lsquo;&ndash;interative&rsquo;</strong>: This flag keeps the <strong>standard input (STDIN)</strong> open for the command you are running in the container.</li>
<li><strong>&rsquo;-t&rsquo; or &lsquo;&ndash;tty&rsquo;</strong>: This flag allocates a pseudo-TTY (pseudo-teletypewriter). It simulates a terminal.</li>
</ul>
<h3 id="save-container">Save container</h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="c1"># commit</span>
</span></span><span class="line"><span class="cl">docker commit
</span></span><span class="line"><span class="cl"><span class="c1"># commit a image with name mypytorch with a message with repository name mypytorch and tag v1.0</span>
</span></span><span class="line"><span class="cl">docker commit -m <span class="s2">&#34;init commit&#34;</span> mypytorch mypytorch:v1.0
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># save</span>
</span></span><span class="line"><span class="cl">docker save
</span></span><span class="line"><span class="cl"><span class="c1"># save image repository mypytorch with tag v1.0, output a tar file</span>
</span></span><span class="line"><span class="cl">docker save -o mypytorch.tar mypytorch:v1.0
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># load</span>
</span></span><span class="line"><span class="cl">docker load
</span></span><span class="line"><span class="cl"><span class="c1"># load tar file mypytorch.tar</span>
</span></span><span class="line"><span class="cl">docker load -i mypytorch.tar
</span></span></code></pre></div><h3 id="share-image">Share image</h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="c1"># login to docker hub</span>
</span></span><span class="line"><span class="cl">docker login
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># add tag to a image</span>
</span></span><span class="line"><span class="cl">docker tag mypytorch:v1.0 username/newname:v1.0
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># push image</span>
</span></span><span class="line"><span class="cl">docker push username/newname:v1.0
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># remember always add a latest version</span>
</span></span><span class="line"><span class="cl">docker tag mypytorch:v1.0 username/newname:latest
</span></span><span class="line"><span class="cl">docker push username/newname:latest
</span></span></code></pre></div><h2 id="docker-storage">Docker storage</h2>
<h3 id="volume">Volume</h3>
<p>If you save your data on docker directly, there will be risk of being deleted by removing the docker. In this case, it&rsquo;s better to store the data permanently in a volume. It could be considered as a directory or a file.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="c1"># volume list</span>
</span></span><span class="line"><span class="cl">docker volume ls
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># create volume</span>
</span></span><span class="line"><span class="cl">docker volume create volumename
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># inspect info of a certain volume</span>
</span></span><span class="line"><span class="cl">docker volume inspect volumename
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># run a docker with volume (must be absolute path)</span>
</span></span><span class="line"><span class="cl">docker run -it -v /host/abs/path:/path/in/docker imagename
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># trick</span>
</span></span><span class="line"><span class="cl"><span class="c1"># can solve permission deny problem</span>
</span></span><span class="line"><span class="cl">docker run --privileged<span class="o">=</span>ture
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># quick example: bind mount</span>
</span></span><span class="line"><span class="cl">sudo docker run -it -d --gpus all --name RL_reasoning --privileged<span class="o">=</span><span class="nb">true</span> -v /home/UNT/zm0166/Documents/RL_reasoning:/workspace/RL_reasoning pytorch/pytorch
</span></span></code></pre></div><h2 id="faq">FAQ</h2>
<h3 id="docker-extensions-of-vs-code-is-not-working">Docker extensions of VS Code is not working.</h3>
<p>While running docker command, the command line shows: Cannot connect to the Docker daemon at <code>unix:///path/to/.docker/desktop/docker.sock</code>. Is the docker daemon running?</p>
<p>The problem is that the docker.sock file is in the path: <code>unix:///var/run/docker.sock</code>. If the path is not correct, the error will show up.</p>
<p><strong>Solution:</strong></p>
<p>Create the symbolic link:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">ln -s /var/run/docker.sock /path/to/.docker/desktop/docker.sock
</span></span></code></pre></div><p>Restart docker service:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo systemctl restart docker
</span></span></code></pre></div><h3 id="gpu-driver-fails-to-load">GPU driver fails to load</h3>
<p>Before running with GPUs, you may need to do:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="nv">distribution</span><span class="o">=</span><span class="k">$(</span>. /etc/os-release<span class="p">;</span><span class="nb">echo</span> <span class="nv">$ID$VERSION_ID</span><span class="k">)</span>
</span></span><span class="line"><span class="cl">curl -s -L https://nvidia.github.io/nvidia-docker/gpgkey <span class="p">|</span> sudo apt-key add -
</span></span><span class="line"><span class="cl">curl -s -L https://nvidia.github.io/nvidia-docker/<span class="nv">$distribution</span>/nvidia-docker.list <span class="p">|</span> sudo tee /etc/apt/sources.list.d/nvidia-docker.list
</span></span><span class="line"><span class="cl">sudo apt-get update
</span></span><span class="line"><span class="cl">sudo apt-get install -y nvidia-docker2
</span></span><span class="line"><span class="cl">sudo systemctl restart docker
</span></span></code></pre></div><h2 id="reference">Reference</h2>
<p><a href="https://blog.bytebytego.com/p/a-crash-course-in-docker" target="_blank" rel="noopener noreffer ">A Crash Course in Docker</a></p>
<p><a href="https://docs.docker.com/engine/" target="_blank" rel="noopener noreffer ">Docker Engine</a></p>
<p><a href="https://www.bilibili.com/video/BV1Zn4y1X7AZ/?p=1&amp;vd_source=d43f2f22ca845cf8173e8ed054690b87" target="_blank" rel="noopener noreffer ">尚硅谷3小时速通Docker教程</a> (Courses are delivered in Chinese)</p>
</div><div class="post-footer" id="post-footer">
    <div class="post-info">
        <div class="post-info-line">
            <div class="post-info-mod">
                <span>Updated on 06-10-2024</span>
            </div></div>
        <div class="post-info-line">
            <div class="post-info-md"></div>
            <div class="post-info-share">
                <span></span>
            </div>
        </div>
    </div>

    <div class="post-info-more">
        <section class="post-tags"></section>
        <section>
            <span><a href="javascript:void(0);" onclick="window.history.back();">Back</a></span>&nbsp;|&nbsp;<span><a href="/">Home</a></span>
        </section>
    </div>

    <div class="post-nav"><a href="/posts/uxdesign/" class="prev" rel="prev" title="A Brief Introduction of UX Design"><i class="fas fa-angle-left fa-fw" aria-hidden="true"></i>A Brief Introduction of UX Design</a>
            <a href="/posts/llm/" class="next" rel="next" title="A Brief Introduction of LLM">A Brief Introduction of LLM<i class="fas fa-angle-right fa-fw" aria-hidden="true"></i></a></div>
</div>
</article></div>
            </main><footer class="footer">
        <div class="footer-container"><div class="footer-line">Powered by <a href="https://gohugo.io/" target="_blank" rel="noopener noreffer" title="Hugo 0.120.3">Hugo</a> | Theme - <a href="https://github.com/dillonzq/LoveIt" target="_blank" rel="noopener noreffer" title="LoveIt 0.2.11"><i class="far fa-kiss-wink-heart fa-fw" aria-hidden="true"></i> LoveIt</a>
                </div><div class="footer-line" itemscope itemtype="http://schema.org/CreativeWork"><i class="far fa-copyright fa-fw" aria-hidden="true"></i><span itemprop="copyrightYear">2022 - 2024</span><span class="author" itemprop="copyrightHolder">&nbsp;<a href="/" target="_blank">Zexuan Meng</a></span></div>
        </div>
    </footer></div>

        <div id="fixed-buttons"><a href="#" id="back-to-top" class="fixed-button" title="Back to Top">
                <i class="fas fa-arrow-up fa-fw" aria-hidden="true"></i>
            </a><a href="#" id="view-comments" class="fixed-button" title="View Comments">
                <i class="fas fa-comment fa-fw" aria-hidden="true"></i>
            </a>
        </div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.0/dist/katex.min.css"><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/lazysizes@5.3.2/lazysizes.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/clipboard@2.0.11/dist/clipboard.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/katex@0.16.0/dist/katex.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/katex@0.16.0/dist/contrib/auto-render.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/katex@0.16.0/dist/contrib/copy-tex.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/katex@0.16.0/dist/contrib/mhchem.min.js"></script><script type="text/javascript">window.config={"code":{"copyTitle":"Copy to clipboard","maxShownLines":50},"comment":{},"math":{"delimiters":[{"display":true,"left":"$$","right":"$$"},{"display":true,"left":"\\[","right":"\\]"},{"display":true,"left":"\\begin{equation}","right":"\\end{equation}"},{"display":true,"left":"\\begin{equation*}","right":"\\end{equation*}"},{"display":true,"left":"\\begin{align}","right":"\\end{align}"},{"display":true,"left":"\\begin{align*}","right":"\\end{align*}"},{"display":true,"left":"\\begin{alignat}","right":"\\end{alignat}"},{"display":true,"left":"\\begin{alignat*}","right":"\\end{alignat*}"},{"display":true,"left":"\\begin{gather}","right":"\\end{gather}"},{"display":true,"left":"\\begin{CD}","right":"\\end{CD}"},{"display":false,"left":"$","right":"$"},{"display":false,"left":"\\(","right":"\\)"}],"strict":false}};</script><script type="text/javascript" src="/js/theme.min.js"></script></body>
</html>
